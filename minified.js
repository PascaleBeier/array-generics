/**
 * Implementation of the Array methods (ECMAScript 5th edition)
 * with shorthand notation (introduced in JavaScript 1.6)
 *
 * Copyright 2013 Alex K. @plusdude
 * http://opensource.org/licenses/MIT
 */
(function(p,k){function m(c){c=Number(c);return c!==c?0:0===c||p===c||-p===c?c:(0<c||-1)*Math.floor(Math.abs(c))}function h(c){var e;if(k===c||null===c)throw(e=Error("can't convert "+c+" to object")).stack||e;return Object(c)}function r(c,e){var a,d,b,f,g;a=h(this);b=a.length>>>0;k!==c?(c=m(c),f=0>c?Math.max(b+c,0):Math.min(c,b)):f=0;k!==e&&(e=m(e),b=0>e?Math.max(b+e,0):Math.min(e,b));d=Array(b-f);for(g=0;f<b;++f,++g)f in a&&(d[g]=a[f]);return d}function s(c){return"[object Array]"===Object.prototype.toString.call(c)}
function q(c){Array[c]=Array[c]||t(c)}function t(c){return function(){var e=Array.prototype.slice.call(arguments,1);return Array.prototype[c].apply(arguments[0],e)}}var n={indexOf:function(c,e){var a,d,b;a=h(this);d=a.length>>>0;k!==e?(e=m(e),b=0>e?Math.max(d+e,0):Math.min(e,d)):b=0;for(;b<d;++b)if(b in a&&c===a[b])return b;return-1},lastIndexOf:function(c,e){var a,d;a=h(this);d=a.length>>>0;k!==e?(e=m(e),d=0>e?Math.max(d+e,0):Math.min(e,d-1)):d-=1;for(;-1<d;--d)if(d in a&&c===a[d])return d;return-1},
forEach:function(c,e){var a,d,b;a=h(this);if("function"!==typeof c)throw(d=Error("callback is not a function")).stack||d;d=a.length>>>0;for(b=0;b<d;++b)b in a&&c.call(e,a[b],b,a)},every:function(c,e){var a,d,b;a=h(this);if("function"!==typeof c)throw(d=Error("callback is not a function")).stack||d;d=a.length>>>0;for(b=0;b<d;++b)if(b in a&&!c.call(e,a[b],b,a))return!1;return!0},some:function(c,e){var a,d,b;a=h(this);if("function"!==typeof c)throw(d=Error("callback is not a function")).stack||d;d=a.length>>>
0;for(b=0;b<d;++b)if(b in a&&c.call(e,a[b],b,a))return!0;return!1},filter:function(c,e){var a,d=[],b,f,g;a=h(this);if("function"!==typeof c)throw(b=Error("callback is not a function")).stack||b;b=a.length>>>0;for(f=g=0;f<b;++f)f in a&&c.call(e,a[f],f,a)&&(d[g++]=a[f]);return d},map:function(c,e){var a,d=[],b,f;a=h(this);if("function"!==typeof c)throw(b=Error("callback is not a function")).stack||b;b=a.length>>>0;for(f=0;f<b;++f)f in a&&(d[f]=c.call(e,a[f],f,a));return d},reduce:function(c,e){var a,
d,b,f,g;a=h(this);if("function"!==typeof c)throw(d=Error("callback is not a function")).stack||d;b=k!==e;f=a.length>>>0;for(g=0;g<f;++g)g in a&&(b?e=c(e,a[g],g,a):(e=a[g],b=!0));if(!b)throw(d=Error("reduce of empty array with no initial value")).stack||d;return e},reduceRight:function(c,e){var a,d,b,f;a=h(this);if("function"!==typeof c)throw(d=Error("callback is not a function")).stack||d;b=k!==e;for(f=(a.length>>>0)-1;-1<f;--f)f in a&&(b?e=c(e,a[f],f,a):(e=a[f],b=!0));if(!b)throw(d=Error("reduce of empty array with no initial value")).stack||
d;return e}},l;for(l in n)n.hasOwnProperty(l)&&(q(l),Array.prototype[l]=Array.prototype[l]||n[l]);Array.isArray=Array.isArray||s;"concat join slice pop push reverse shift sort splice unshift".split(" ").forEach(q);try{Array.slice({})}catch(u){Array.prototype.slice=r}})(1/0);
